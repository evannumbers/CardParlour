<html>
  <head>
    <link rel="stylesheet" type="text/css" href="/style/default.css">
    <link rel="stylesheet" type="text/css" href="/style/display.css">
    <script type="text/javascript" src="../style/qr/jquery.min.js"></script>
    <script type="text/javascript" src="../style/qr/qrcode.js"></script>
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
  </head>
  <body>
    <div class = "top_container">
      <div class = "player_container">
        <p>player_container</p>
      </div>

      <div class = "middle_container">
        <div class = "logo_container">
          <p>logo_container</p>
        </div>

        <div class = "black_card_container">
          <p>black_card_container</p>
        </div>
      </div>

      <div class = "qr_container">
        <p>qr_container</p>
        <div id="qrcode"></div>
      </div>

    </div>

    <br>

    <div class = "card_container">
      <p>card_container</p>
    </div>

    <br>

    <div class = "timer_container">
      <p>timer_container</p>
    </div>

    <script type="text/javascript">
      var socket =  io();

      var w = $("#qrcode").width();
      var h = $("#qrcode").height();
      var qrcode = new QRCode(document.getElementById("qrcode"), {
        width : Math.min(w,h),
        height : Math.min(w,h)
      });
      var qrText = "Not connected yet!"

      window.addEventListener('resize', function(event){
        w = $("#qrcode").width();
        h = $("#qrcode").height();
        document.getElementById("qrcode").innerHTML = "";
        qrcode = new QRCode(document.getElementById("qrcode"), {
          width : Math.min(w,h),
          height : Math.min(w,h)
        });
        makeCode();
      });

      function makeCode () {
        qrcode.makeCode(qrText);
      }

      socket.on('set qr', function(url){
        qrText = url;
      });

      makeCode()
    </script>
  </body>
</html>
